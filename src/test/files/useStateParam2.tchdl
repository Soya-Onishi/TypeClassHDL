package test

module Top
impl Top {
  input def function(a: Bit[8], b: Bit[8]) -> Unit {
    generate s0() # st1(a, b)
  }

  stage s0() -> Unit {
    state st1(x: Bit[8], y: Bit[8]) {
      relay s1() # st2(x + y)
    }
  }

  stage s1() -> Unit {
    state st2(z: Bit[8]) {
      finish
    }
  }
}